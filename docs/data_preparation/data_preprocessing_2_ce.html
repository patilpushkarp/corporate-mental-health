
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Preprocessing - 2 - Company Employed &#8212; Corporate Mental Health</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Data Selection and Segregation" href="select_n_combine_columns.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Corporate Mental Health</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Corporate Mental Health
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Data Understanding
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../data_understanding/dataset_intro.html">
   Dataset Introduction
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Data Preparation
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="data_cleaning.html">
   Data Preparation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="select_n_combine_columns.html">
   Data Selection and Segregation
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Data Preprocessing - 2 - Company Employed
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/docs/data_preparation/data_preprocessing_2_ce.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/patilpushkarp/corporate-mental-health"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/patilpushkarp/corporate-mental-health/issues/new?title=Issue%20on%20page%20%2Fdocs/data_preparation/data_preprocessing_2_ce.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/patilpushkarp/corporate-mental-health/main?urlpath=tree/mh_book/docs/data_preparation/data_preprocessing_2_ce.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#drop-irrelevant-and-unuseful-columns">
   Drop irrelevant and unuseful columns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#missing-values-analysis">
   Missing values analysis
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#missing-values-identification">
     Missing values identification
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#missing-values-imputation">
     Missing values imputation
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#categorical-features-encoding">
   Categorical features encoding
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="data-preprocessing-2-company-employed">
<h1>Data Preprocessing - 2 - Company Employed<a class="headerlink" href="#data-preprocessing-2-company-employed" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">missingno</span> <span class="k">as</span> <span class="nn">msn</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./../../../datasets/consistent_ce_data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="drop-irrelevant-and-unuseful-columns">
<h2>Drop irrelevant and unuseful columns<a class="headerlink" href="#drop-irrelevant-and-unuseful-columns" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Shape of dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1308, 68)
</pre></div>
</div>
</div>
</div>
<p>It is better to drop columns which have more than half missing values. Columns such as these does not provide any relevant information and models can’t learn from such columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop irrelevant columns</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check final shape of dataframe</span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1308, 55)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="missing-values-analysis">
<h2>Missing values analysis<a class="headerlink" href="#missing-values-analysis" title="Permalink to this headline">¶</a></h2>
<div class="section" id="missing-values-identification">
<h3>Missing values identification<a class="headerlink" href="#missing-values-identification" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">msn</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../../_images/data_preprocessing_2_ce_10_1.png" src="../../_images/data_preprocessing_2_ce_10_1.png" />
</div>
</div>
<p>The above graoh is showing the positions of mising values in the dataframe. The missing values are nearly uniformly scatter and hence it would be better to treat them as per the information that the columns want to convey.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the dendrogram</span>
<span class="n">msn</span><span class="o">.</span><span class="n">dendrogram</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Double click on the chart to zoom in and zoom out.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../../_images/data_preprocessing_2_ce_12_1.png" src="../../_images/data_preprocessing_2_ce_12_1.png" />
</div>
</div>
<p>Dendrogram is generated by hierarchical clustering algorithm to bin variables against each other based on their nullity correlation. The columns which are linked at a distance of zero can fully predict the presence of each other.<br />
AS per the graph, the features related to importance provided by the employers to the mental health and the features which express how the employees are treated with regards to mental health can fully predict each others presence. Similary, features related to demograhic information and other general information and features related to how person treats and feels about herself with regards to mental illness can also fully predict each others presence. There are two ways they can predict their presence one either one variable is always empty and other is always filled, or they might always be filled or both empty. In our case, it is more likely that that features which are linked at zero distance are always present.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Identifying columns with null values</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">any</span><span class="p">()]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;do you know the options for mental health care available under your employer-provided health coverage?&#39;,
 &#39;have you ever discussed your mental health with coworkers?&#39;,
 &quot;have you ever had a coworker discuss their or another coworker&#39;s mental health with you?&quot;,
 &#39;was your employer primarily a tech company/organization?&#39;,
 &#39;have your previous employers provided mental health benefits?&#39;,
 &#39;were you aware of the options for mental health care provided by your previous employers?&#39;,
 &#39;did your previous employers ever formally discuss mental health (as part of a wellness campaign or other official communication)?&#39;,
 &#39;did your previous employers provide resources to learn more about mental health disorders and how to seek help?&#39;,
 &#39;was your anonymity protected if you chose to take advantage of mental health or substance abuse treatment resources with previous employers?&#39;,
 &#39;would you have felt more comfortable talking to your previous employer about your physical health or your mental health?&#39;,
 &#39;would you have been willing to discuss your mental health with your direct supervisor(s)?&#39;,
 &#39;did you ever discuss your mental health with your previous employer?&#39;,
 &#39;would you have been willing to discuss your mental health with your coworkers at previous employers?&#39;,
 &#39;did you ever discuss your mental health with a previous coworker(s)?&#39;,
 &quot;did you ever have a previous coworker discuss their or another coworker&#39;s mental health with you?&quot;,
 &#39;overall, how much importance did your previous employer place on physical health?&#39;,
 &#39;overall, how much importance did your previous employer place on mental health?&#39;,
 &#39;have you had a mental health disorder in the past?&#39;,
 &#39;have your observations of how another individual who discussed a mental health issue made you less likely to reveal a mental health issue yourself in your current workplace?&#39;,
 &#39;what is your race?&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="missing-values-imputation">
<h3>Missing values imputation<a class="headerlink" href="#missing-values-imputation" title="Permalink to this headline">¶</a></h3>
<p>For imputing missing values certain <strong>assumptions</strong> need to be made. Following are the assumptions -</p>
<ol class="simple">
<li><p>If a person does not provide any answer to a yes/no question, then it is assumed that she/he did not know the answer to the question and hence the missing value will be imputed with no.</p></li>
<li><p>If a person does not provide an answer to the question which has an option - “I don’t know” - then it will be assumed that she/he does not know the answer and the missing values will be imputed with “I don’t know”.</p></li>
<li><p>If a person does not provide an answer to the question which has an option - “N/A (was not aware)” - then it will be assumed that she/he is not aware of the context and hence the missing values will be imputed with “N/A (was not aware)”.</p></li>
<li><p>If a person does not provide an answer to the question which was asking about certain resource availability, then it is assumed that the she/he is not aware of any mentioned resources and hence the missing values will be imputed with “None did”.</p></li>
<li><p>If a person does not provide an answer to the question asking about comfortability of an expression of issue then the missing values will be imputed with “uncomfortable”.</p></li>
<li><p>If a person does not provide asn answer to the question related to rating then the missing values will be imputed with 0.</p></li>
<li><p>For question regarding race, the missing values will be imputed with “I prefer not to answer” as it is one of the option and the most suitable for these cases.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fill missing values if required</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;do you know the options for mental health care available under your employer-provided health coverage?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;No&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever discussed your mental health with coworkers?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;have you ever had a coworker discuss their or another coworker&#39;s mental health with you?&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;was your employer primarily a tech company/organization?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;have your previous employers provided mental health benefits?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;I don&#39;t know&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;were you aware of the options for mental health care provided by your previous employers?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;N/A (was not aware)&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;did your previous employers ever formally discuss mental health (as part of a wellness campaign or other official communication)?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;I don&#39;t know&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;did your previous employers provide resources to learn more about mental health disorders and how to seek help?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;None did&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;was your anonymity protected if you chose to take advantage of mental health or substance abuse treatment resources with previous employers?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;I don&#39;t know&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;would you have felt more comfortable talking to your previous employer about your physical health or your mental health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;uncomfortable&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;would you have been willing to discuss your mental health with your direct supervisor(s)?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;I don&#39;t know&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;did you ever discuss your mental health with your previous employer?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;would you have been willing to discuss your mental health with your coworkers at previous employers?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;No, at none of my previous employers&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;did you ever discuss your mental health with a previous coworker(s)?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;did you ever have a previous coworker discuss their or another coworker&#39;s mental health with you?&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;overall, how much importance did your previous employer place on physical health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;overall, how much importance did your previous employer place on mental health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you had a mental health disorder in the past?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;Don&#39;t Know&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;have your observations of how another individual who discussed a mental health issue made you less likely to reveal a mental health issue yourself in your current workplace?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;Maybe&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;what is your race?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;I prefer not to answer&quot;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="categorical-features-encoding">
<h2>Categorical features encoding<a class="headerlink" href="#categorical-features-encoding" title="Permalink to this headline">¶</a></h2>
<p>Before we move forward to encode categorical features, it is necessary to identify them first.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 1308 entries, 0 to 1307
Data columns (total 55 columns):
 #   Column                                                                                                                                                                                                                          Non-Null Count  Dtype  
---  ------                                                                                                                                                                                                                          --------------  -----  
 0   are you self-employed?                                                                                                                                                                                                          1308 non-null   int64  
 1   how many employees does your company or organization have?                                                                                                                                                                      1308 non-null   object 
 2   is your employer primarily a tech company/organization?                                                                                                                                                                         1308 non-null   float64
 3   is your primary role within your company related to tech/it?                                                                                                                                                                    1308 non-null   float64
 4   does your employer provide mental health benefits as part of healthcare coverage?                                                                                                                                               1308 non-null   object 
 5   do you know the options for mental health care available under your employer-provided health coverage?                                                                                                                          1308 non-null   object 
 6   has your employer ever formally discussed mental health (for example, as part of a wellness campaign or other official communication)?                                                                                          1308 non-null   object 
 7   does your employer offer resources to learn more about mental health disorders and options for seeking help?                                                                                                                    1308 non-null   object 
 8   is your anonymity protected if you choose to take advantage of mental health or substance abuse treatment resources provided by your employer?                                                                                  1308 non-null   object 
 9   if a mental health issue prompted you to request a medical leave from work, how easy or difficult would it be to ask for that leave?                                                                                            1308 non-null   object 
 10  would you feel more comfortable talking to your coworkers about your physical health or your mental health?                                                                                                                     1308 non-null   object 
 11  would you feel comfortable discussing a mental health issue with your direct supervisor(s)?                                                                                                                                     1308 non-null   object 
 12  have you ever discussed your mental health with your employer?                                                                                                                                                                  1308 non-null   float64
 13  would you feel comfortable discussing a mental health issue with your coworkers?                                                                                                                                                1308 non-null   object 
 14  have you ever discussed your mental health with coworkers?                                                                                                                                                                      1308 non-null   float64
 15  have you ever had a coworker discuss their or another coworker&#39;s mental health with you?                                                                                                                                        1308 non-null   float64
 16  overall, how much importance does your employer place on physical health?                                                                                                                                                       1308 non-null   float64
 17  overall, how much importance does your employer place on mental health?                                                                                                                                                         1308 non-null   float64
 18  do you have previous employers?                                                                                                                                                                                                 1308 non-null   int64  
 19  was your employer primarily a tech company/organization?                                                                                                                                                                        1308 non-null   float64
 20  have your previous employers provided mental health benefits?                                                                                                                                                                   1308 non-null   object 
 21  were you aware of the options for mental health care provided by your previous employers?                                                                                                                                       1308 non-null   object 
 22  did your previous employers ever formally discuss mental health (as part of a wellness campaign or other official communication)?                                                                                               1308 non-null   object 
 23  did your previous employers provide resources to learn more about mental health disorders and how to seek help?                                                                                                                 1308 non-null   object 
 24  was your anonymity protected if you chose to take advantage of mental health or substance abuse treatment resources with previous employers?                                                                                    1308 non-null   object 
 25  would you have felt more comfortable talking to your previous employer about your physical health or your mental health?                                                                                                        1308 non-null   object 
 26  would you have been willing to discuss your mental health with your direct supervisor(s)?                                                                                                                                       1308 non-null   object 
 27  did you ever discuss your mental health with your previous employer?                                                                                                                                                            1308 non-null   float64
 28  would you have been willing to discuss your mental health with your coworkers at previous employers?                                                                                                                            1308 non-null   object 
 29  did you ever discuss your mental health with a previous coworker(s)?                                                                                                                                                            1308 non-null   float64
 30  did you ever have a previous coworker discuss their or another coworker&#39;s mental health with you?                                                                                                                               1308 non-null   float64
 31  overall, how much importance did your previous employer place on physical health?                                                                                                                                               1308 non-null   float64
 32  overall, how much importance did your previous employer place on mental health?                                                                                                                                                 1308 non-null   float64
 33  do you currently have a mental health disorder?                                                                                                                                                                                 1308 non-null   object 
 34  have you had a mental health disorder in the past?                                                                                                                                                                              1308 non-null   object 
 35  have you ever sought treatment for a mental health disorder from a mental health professional?                                                                                                                                  1308 non-null   int64  
 36  do you have a family history of mental illness?                                                                                                                                                                                 1308 non-null   object 
 37  if you have a mental health disorder, how often do you feel that it interferes with your work when being treated effectively?                                                                                                   1308 non-null   object 
 38  if you have a mental health disorder, how often do you feel that it interferes with your work when not being treated effectively (i.e., when you are experiencing symptoms)?                                                    1308 non-null   object 
 39  have your observations of how another individual who discussed a mental health issue made you less likely to reveal a mental health issue yourself in your current workplace?                                                   1308 non-null   object 
 40  how willing would you be to share with friends and family that you have a mental illness?                                                                                                                                       1308 non-null   int64  
 41  would you be willing to bring up a physical health issue with a potential employer in an interview?                                                                                                                             1308 non-null   object 
 42  would you bring up your mental health with a potential employer in an interview?                                                                                                                                                1308 non-null   object 
 43  are you openly identified at work as a person with a mental health issue?                                                                                                                                                       1308 non-null   float64
 44  if they knew you suffered from a mental health disorder, how do you think that team members/co-workers would react?                                                                                                             1308 non-null   float64
 45  have you observed or experienced an unsupportive or badly handled response to a mental health issue in your current or previous workplace?                                                                                      1308 non-null   object 
 46  have you observed or experienced supportive or well handled response to a mental health issue in your current or previous workplace?                                                                                            1308 non-null   object 
 47  overall, how well do you think the tech industry supports employees with mental health issues?                                                                                                                                  1308 non-null   float64
 48  would you be willing to talk to one of us more extensively about your experiences with mental health issues in the tech industry? (note that all interview responses would be used anonymously and only with your permission.)  1308 non-null   float64
 49  what is your age?                                                                                                                                                                                                               1308 non-null   float64
 50  what is your gender?                                                                                                                                                                                                            1308 non-null   object 
 51  what country do you live in?                                                                                                                                                                                                    1308 non-null   object 
 52  what is your race?                                                                                                                                                                                                              1308 non-null   object 
 53  what country do you work in?                                                                                                                                                                                                    1308 non-null   object 
 54  year                                                                                                                                                                                                                            1308 non-null   int64  
dtypes: float64(18), int64(5), object(32)
memory usage: 562.2+ KB
</pre></div>
</div>
</div>
</div>
<p>Looking at the information of dataframe, there are quite a lot of fetuares which has data type as “object”. It is not necessary that all the features with data type as “object” be categorical features. There may be certain columns which might binary values which can be represented by booleans. It is better to check column one by one.<br />
But for now, I would like to go with the assumption that all the columns with data type as “object” are categorical columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cat_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span>
<span class="n">cat_cols</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;how many employees does your company or organization have?&#39;,
       &#39;does your employer provide mental health benefits as part of healthcare coverage?&#39;,
       &#39;do you know the options for mental health care available under your employer-provided health coverage?&#39;,
       &#39;has your employer ever formally discussed mental health (for example, as part of a wellness campaign or other official communication)?&#39;,
       &#39;does your employer offer resources to learn more about mental health disorders and options for seeking help?&#39;,
       &#39;is your anonymity protected if you choose to take advantage of mental health or substance abuse treatment resources provided by your employer?&#39;,
       &#39;if a mental health issue prompted you to request a medical leave from work, how easy or difficult would it be to ask for that leave?&#39;,
       &#39;would you feel more comfortable talking to your coworkers about your physical health or your mental health?&#39;,
       &#39;would you feel comfortable discussing a mental health issue with your direct supervisor(s)?&#39;,
       &#39;would you feel comfortable discussing a mental health issue with your coworkers?&#39;,
       &#39;have your previous employers provided mental health benefits?&#39;,
       &#39;were you aware of the options for mental health care provided by your previous employers?&#39;,
       &#39;did your previous employers ever formally discuss mental health (as part of a wellness campaign or other official communication)?&#39;,
       &#39;did your previous employers provide resources to learn more about mental health disorders and how to seek help?&#39;,
       &#39;was your anonymity protected if you chose to take advantage of mental health or substance abuse treatment resources with previous employers?&#39;,
       &#39;would you have felt more comfortable talking to your previous employer about your physical health or your mental health?&#39;,
       &#39;would you have been willing to discuss your mental health with your direct supervisor(s)?&#39;,
       &#39;would you have been willing to discuss your mental health with your coworkers at previous employers?&#39;,
       &#39;do you currently have a mental health disorder?&#39;,
       &#39;have you had a mental health disorder in the past?&#39;,
       &#39;do you have a family history of mental illness?&#39;,
       &#39;if you have a mental health disorder, how often do you feel that it interferes with your work when being treated effectively?&#39;,
       &#39;if you have a mental health disorder, how often do you feel that it interferes with your work when not being treated effectively (i.e., when you are experiencing symptoms)?&#39;,
       &#39;have your observations of how another individual who discussed a mental health issue made you less likely to reveal a mental health issue yourself in your current workplace?&#39;,
       &#39;would you be willing to bring up a physical health issue with a potential employer in an interview?&#39;,
       &#39;would you bring up your mental health with a potential employer in an interview?&#39;,
       &#39;have you observed or experienced an unsupportive or badly handled response to a mental health issue in your current or previous workplace?&#39;,
       &#39;have you observed or experienced supportive or well handled response to a mental health issue in your current or previous workplace?&#39;,
       &#39;what is your gender?&#39;, &#39;what country do you live in?&#39;,
       &#39;what is your race?&#39;, &#39;what country do you work in?&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>There are 32 columns out of 55 which are categorical in nature. Out of those, after examining the data manually, we can infer that one of them is ordinal in nature and others can be treated as nominal columns. The column - “how many employees does your company or organization have?” - which gives information regarding the size of the company can be treated as ordinal coulmn.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Encoding ordinal column</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;how many employees does your company or organization have?&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;how many employees does your company or organization have?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;1-5&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> 
                                                                                                                                              <span class="s1">&#39;6-25&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> 
                                                                                                                                              <span class="s1">&#39;26-100&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> 
                                                                                                                                              <span class="s1">&#39;100-500&#39;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span>
                                                                                                                                              <span class="s1">&#39;500-1000&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span>
                                                                                                                                              <span class="s1">&#39;More than 1000&#39;</span><span class="p">:</span><span class="mi">6</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Encoding nominal columns</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">cat_cols</span><span class="p">:</span>
    <span class="n">dummy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">column</span><span class="p">])</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">dummy</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([                                                                  &#39;are you self-employed?&#39;,
                                        &#39;is your employer primarily a tech company/organization?&#39;,
                                   &#39;is your primary role within your company related to tech/it?&#39;,
                                 &#39;have you ever discussed your mental health with your employer?&#39;,
                                     &#39;have you ever discussed your mental health with coworkers?&#39;,
       &#39;have you ever had a coworker discuss their or another coworker&#39;s mental health with you?&#39;,
                      &#39;overall, how much importance does your employer place on physical health?&#39;,
                        &#39;overall, how much importance does your employer place on mental health?&#39;,
                                                                &#39;do you have previous employers?&#39;,
                                       &#39;was your employer primarily a tech company/organization?&#39;,
       ...
                                                                                   &#39;South Africa&#39;,
                                                                                          &#39;Spain&#39;,
                                                                                      &#39;Swaziland&#39;,
                                                                                         &#39;Sweden&#39;,
                                                                                    &#39;Switzerland&#39;,
                                                                                         &#39;Turkey&#39;,
                                                                                        &#39;Ukraine&#39;,
                                                                                 &#39;United Kingdom&#39;,
                                                                       &#39;United States of America&#39;,
                                                                                        &#39;Uruguay&#39;],
      dtype=&#39;object&#39;, length=249)
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./docs/data_preparation"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="select_n_combine_columns.html" title="previous page">Data Selection and Segregation</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Pushkar Patil<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>