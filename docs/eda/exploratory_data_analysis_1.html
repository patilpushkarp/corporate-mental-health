
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>Exploratory Data Analysis - 1 &#8212; Corporate Mental Health</title>
    
  <link rel="stylesheet" href="../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.e7340bb3dbd8dde6db86f25597f54a1b.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Corporate Mental Health</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Corporate Mental Health
  </a>
 </li>
</ul>
<p>
 <span class="caption-text">
  Data Understanding
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../data_understanding/dataset_intro.html">
   Dataset Introduction
  </a>
 </li>
</ul>
<p>
 <span class="caption-text">
  Data Preparation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../data_preparation/data_cleaning.html">
   Data Preparation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data_preparation/select_n_combine_columns.html">
   Data Selection and Segregation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../data_preparation/data_preprocessing_2_ce.html">
   Data Preprocessing - 2 - Company Employed
  </a>
 </li>
</ul>
<p>
 <span class="caption-text">
  Data Modelling
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../models/models.html">
   Data Modelling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../models/rf.html">
   Random Forest Classifier
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/docs/eda/exploratory_data_analysis_1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/patilpushkarp/corporate-mental-health"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/patilpushkarp/corporate-mental-health/issues/new?title=Issue%20on%20page%20%2Fdocs/eda/exploratory_data_analysis_1.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/patilpushkarp/corporate-mental-health/main?urlpath=tree/mh_book/docs/eda/exploratory_data_analysis_1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i>
            Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#univariate-analysis">
   Univariate analysis
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#company-employed-candidates">
     Company employed candidates
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#self-employed-candidates">
     Self-employed candidates
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#common-questions">
     Common questions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#multivariate-analysis">
   Multivariate Analysis
  </a>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <section id="exploratory-data-analysis-1">
<h1>Exploratory Data Analysis - 1<a class="headerlink" href="#exploratory-data-analysis-1" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">missingno</span> <span class="k">as</span> <span class="nn">msn</span>

<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">widgets</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./../../../datasets/consistent_data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="univariate-analysis">
<h2>Univariate analysis<a class="headerlink" href="#univariate-analysis" title="Permalink to this headline">¶</a></h2>
<section id="company-employed-candidates">
<h3>Company employed candidates<a class="headerlink" href="#company-employed-candidates" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ce_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;how many employees does your company or organization have?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;is your employer primarily a tech company/organization?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;is your primary role within your company related to tech/it?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;does your employer provide mental health benefits as part of healthcare coverage?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;do you know the options for mental health care available under your employer-provided health coverage?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;has your employer ever formally discussed mental health (for example, as part of a wellness campaign or other official communication)?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;does your employer offer resources to learn more about mental health disorders and options for seeking help?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;is your anonymity protected if you choose to take advantage of mental health or substance abuse treatment resources provided by your employer?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;if a mental health issue prompted you to request a medical leave from work, how easy or difficult would it be to ask for that leave?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;would you feel more comfortable talking to your coworkers about your physical health or your mental health?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;would you feel comfortable discussing a mental health issue with your direct supervisor(s)?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;have you ever discussed your mental health with your employer?&#39;</span><span class="p">,</span>
              <span class="s1">&#39;would you feel comfortable discussing a mental health issue with your coworkers?&#39;</span><span class="p">,</span>
              <span class="s1">&#39;have you ever discussed your mental health with coworkers?&#39;</span><span class="p">,</span>
              <span class="s1">&#39;have you ever had a coworker discuss their or another coworker</span><span class="se">\&#39;</span><span class="s1">s mental health with you?&#39;</span><span class="p">,</span>
              <span class="s1">&#39;overall, how much importance does your employer place on physical health?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;overall, how much importance does your employer place on mental health?&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ce</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">ce_columns</span><span class="p">]</span>
<span class="n">df_ce</span> <span class="o">=</span> <span class="n">df_ce</span><span class="p">[</span><span class="n">df_ce</span><span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of candidates who work for employers: </span><span class="si">{</span><span class="n">df_ce</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of candidates who work for employers: 1308
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnbox1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Company employed candidate specifics&#39;</span><span class="p">,</span>
                           <span class="n">value</span><span class="o">=</span><span class="s1">&#39;how many employees does your company or organization have?&#39;</span><span class="p">,</span>
                           <span class="n">options</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df_ce</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>

<span class="n">trace1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">df_ce</span><span class="p">[</span><span class="s1">&#39;how many employees does your company or organization have?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">df_ce</span><span class="p">[</span><span class="s1">&#39;how many employees does your company or organization have?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>

<span class="n">g1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">trace1</span><span class="p">],</span> 
                   <span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Distribution&quot;</span><span class="p">,</span> <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;how many employees does your company or organization have?&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">response1</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">g1</span><span class="o">.</span><span class="n">batch_update</span><span class="p">():</span>
        <span class="n">g1</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">df_ce</span><span class="p">[</span><span class="n">columnbox1</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">g1</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_ce</span><span class="p">[</span><span class="n">columnbox1</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="n">g1</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">columnbox1</span><span class="o">.</span><span class="n">value</span>

<span class="n">columnbox1</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">response1</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="n">container1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">columnbox1</span><span class="p">])</span>
<span class="n">chart1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">container1</span><span class="p">,</span> <span class="n">g1</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">chart1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "ecfa2a9968ce4ec893b710c20a8574bb", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</section>
<section id="self-employed-candidates">
<h3>Self-employed candidates<a class="headerlink" href="#self-employed-candidates" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">se_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;do you have medical coverage (private insurance or state-provided) that includes treatment of mental health disorders?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;do you know local or online resources to seek help for a mental health issue?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;if you have been diagnosed or treated for a mental health disorder, do you ever reveal this to clients or business contacts?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;if you have revealed a mental health disorder to a client or business contact, how has this affected you or the relationship?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;if you have been diagnosed or treated for a mental health disorder, do you ever reveal this to coworkers or employees?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;if you have revealed a mental health disorder to a coworker or employee, how has this impacted you or the relationship?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;do you believe your productivity is ever affected by a mental health issue?&#39;</span><span class="p">,</span> 
              <span class="s1">&#39;if yes, what percentage of your work time (time performing primary or secondary job functions) is affected by a mental health issue?&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_se</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">se_columns</span><span class="p">]</span>
<span class="n">df_se</span> <span class="o">=</span> <span class="n">df_se</span><span class="p">[</span><span class="n">df_se</span><span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of candidates who work for employers: </span><span class="si">{</span><span class="n">df_se</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of candidates who work for employers: 217
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnbox2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Self-employed candidate specifics&#39;</span><span class="p">,</span>
                           <span class="n">value</span><span class="o">=</span><span class="s1">&#39;do you have medical coverage (private insurance or state-provided) that includes treatment of mental health disorders?&#39;</span><span class="p">,</span>
                           <span class="n">options</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df_se</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>

<span class="n">trace2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">df_se</span><span class="p">[</span><span class="s1">&#39;do you have medical coverage (private insurance or state-provided) that includes treatment of mental health disorders?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">df_se</span><span class="p">[</span><span class="s1">&#39;do you have medical coverage (private insurance or state-provided) that includes treatment of mental health disorders?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>

<span class="n">g2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">trace2</span><span class="p">],</span> 
                   <span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Distribution&quot;</span><span class="p">,</span> 
                                      <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;do you have medical coverage (private insurance or state-provided) that includes treatment of mental health disorders?&quot;</span><span class="p">,</span> 
                                      <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">response2</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">g2</span><span class="o">.</span><span class="n">batch_update</span><span class="p">():</span>
        <span class="n">g2</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">df_se</span><span class="p">[</span><span class="n">columnbox2</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">g2</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_se</span><span class="p">[</span><span class="n">columnbox2</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="n">g2</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">columnbox2</span><span class="o">.</span><span class="n">value</span>

<span class="n">columnbox2</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">response2</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="n">container2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">columnbox2</span><span class="p">])</span>
<span class="n">chart2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">container2</span><span class="p">,</span> <span class="n">g2</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">chart2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "60221bbfadfb4945b0600e6f6c833c67", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</section>
<section id="common-questions">
<h3>Common questions<a class="headerlink" href="#common-questions" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cc_columns</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="o">-</span><span class="nb">set</span><span class="p">(</span><span class="n">ce_columns</span><span class="p">)</span><span class="o">-</span><span class="nb">set</span><span class="p">(</span><span class="n">se_columns</span><span class="p">))</span>
<span class="n">cc_columns</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;what is your age?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_cc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">cc_columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnbox3</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Self-employed candidate specifics&#39;</span><span class="p">,</span>
                           <span class="n">value</span><span class="o">=</span><span class="s1">&#39;do you have previous employers?&#39;</span><span class="p">,</span>
                           <span class="n">options</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df_cc</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>

<span class="n">trace3</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">df_cc</span><span class="p">[</span><span class="s1">&#39;do you have previous employers?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">df_cc</span><span class="p">[</span><span class="s1">&#39;do you have previous employers?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>

<span class="n">g3</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">trace3</span><span class="p">],</span> 
                   <span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Distribution&quot;</span><span class="p">,</span> <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;do you have previous employers?&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">response3</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">g3</span><span class="o">.</span><span class="n">batch_update</span><span class="p">():</span>
        <span class="n">g3</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">df_cc</span><span class="p">[</span><span class="n">columnbox3</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">g3</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df_cc</span><span class="p">[</span><span class="n">columnbox3</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="n">g3</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">columnbox3</span><span class="o">.</span><span class="n">value</span>


<span class="n">columnbox3</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">response3</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="n">container3</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">columnbox3</span><span class="p">])</span>
<span class="n">chart3</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">container3</span><span class="p">,</span> <span class="n">g3</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">chart3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "08422d4df66b436ca65ffd79f2aed278", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</section>
</section>
<section id="multivariate-analysis">
<h2>Multivariate Analysis<a class="headerlink" href="#multivariate-analysis" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">relevant_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">,</span> <span class="s1">&#39;do you know the options for mental health care available under your employer-provided health coverage?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;do you currently have a mental health disorder?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;do you have medical coverage (private insurance or state-provided) that includes treatment of mental health disorders?&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;do you know local or online resources to seek help for a mental health issue?&#39;</span>
                    <span class="s1">&#39;have you ever been diagnosed with a mental health disorder?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;have you had a mental health disorder in the past?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;do you have a family history of mental illness?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;if you have a mental health disorder, how often do you feel that it interferes with your work when being treated effectively?&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;how willing would you be to share with friends and family that you have a mental illness?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;would you bring up your mental health with a potential employer in an interview?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;are you openly identified at work as a person with a mental health issue?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;have you observed or experienced an unsupportive or badly handled response to a mental health issue in your current or previous workplace?&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;would you be willing to talk to one of us more extensively about your experiences with mental health issues in the tech industry? (note that all interview responses would be used anonymously and only with your permission.)&#39;</span><span class="p">,</span> 
                    <span class="s1">&#39;what is your gender?&#39;</span><span class="p">,</span> <span class="s1">&#39;what country do you work in?&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columnbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Specific columns for analysis&#39;</span><span class="p">,</span>
                           <span class="n">value</span><span class="o">=</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">,</span>
                           <span class="n">options</span><span class="o">=</span><span class="n">relevant_columns</span><span class="p">)</span>

<span class="n">treated_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever sought treatment for a mental health disorder from a mental health professional?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">non_treated_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever sought treatment for a mental health disorder from a mental health professional?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>

<span class="n">trace1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
               <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Took treatment&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>
<span class="n">trace2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">non_treated_df</span><span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">non_treated_df</span><span class="p">[</span><span class="s1">&#39;are you self-employed?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
               <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Did not take treatment&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">trace1</span><span class="p">,</span> <span class="n">trace2</span><span class="p">],</span> 
                    <span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Distribution with respect to treatment&quot;</span><span class="p">,</span> 
                    <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;are you self-employed?&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">response4</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">g</span><span class="o">.</span><span class="n">batch_update</span><span class="p">():</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="n">columnbox</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="mi">7</span><span class="p">])</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="n">columnbox</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">[:</span><span class="mi">7</span><span class="p">])</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">non_treated_df</span><span class="p">[</span><span class="n">columnbox</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="mi">7</span><span class="p">])</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">non_treated_df</span><span class="p">[</span><span class="n">columnbox</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">[:</span><span class="mi">7</span><span class="p">])</span>
        <span class="n">g</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">columnbox</span><span class="o">.</span><span class="n">value</span>

<span class="n">columnbox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">response4</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">columnbox</span><span class="p">])</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">container</span><span class="p">,</span> <span class="n">g</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">chart</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "9974ff477a394c2dab247c7190fa17f4", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">current_em_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;overall, how much importance does your employer place on physical health?&#39;</span><span class="p">,</span> <span class="s1">&#39;overall, how much importance does your employer place on mental health?&#39;</span><span class="p">]</span>
<span class="n">previous_em_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;overall, how much importance did your previous employer place on physical health?&#39;</span><span class="p">,</span> <span class="s1">&#39;overall, how much importance did your previous employer place on mental health?&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">treatmentbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Treated&#39;</span><span class="p">,</span>
                                   <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Took treatment&#39;</span><span class="p">,</span>
                                   <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Took treatment&quot;</span><span class="p">,</span> <span class="s2">&quot;Did not take treatment&quot;</span><span class="p">])</span>

<span class="n">emtimebox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Time of employment&#39;</span><span class="p">,</span>
                           <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Current&#39;</span><span class="p">,</span>
                           <span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Current&quot;</span><span class="p">,</span> <span class="s2">&quot;Previous&quot;</span><span class="p">])</span>

<span class="n">treated_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever sought treatment for a mental health disorder from a mental health professional?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">non_treated_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever sought treatment for a mental health disorder from a mental health professional?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>

<span class="n">trace1</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="s1">&#39;overall, how much importance does your employer place on physical health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="s1">&#39;overall, how much importance does your employer place on physical health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
               <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Physical health importance&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>
<span class="n">trace2</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="s1">&#39;overall, how much importance does your employer place on mental health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">),</span> 
               <span class="n">x</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">treated_df</span><span class="p">[</span><span class="s1">&#39;overall, how much importance does your employer place on mental health?&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">),</span>
               <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Mental health importance&quot;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s2">&quot;h&quot;</span><span class="p">)</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">trace1</span><span class="p">,</span> <span class="n">trace2</span><span class="p">],</span> 
                    <span class="n">layout</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Distribution with respect to importance&quot;</span><span class="p">,</span> 
                    <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Importance&quot;</span><span class="p">,</span> <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Number of people&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">response5</span><span class="p">(</span><span class="n">change</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">emtimebox</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;Current&quot;</span><span class="p">:</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="n">current_em_columns</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">columns</span> <span class="o">=</span> <span class="n">previous_em_columns</span>
        
    <span class="k">if</span> <span class="n">treatmentbox</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;Took treatment&quot;</span><span class="p">:</span>
        <span class="n">temp_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever sought treatment for a mental health disorder from a mental health professional?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">temp_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;have you ever sought treatment for a mental health disorder from a mental health professional?&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
        
    <span class="k">with</span> <span class="n">g</span><span class="o">.</span><span class="n">batch_update</span><span class="p">():</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">temp_df</span><span class="p">[</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">temp_df</span><span class="p">[</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">temp_df</span><span class="p">[</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">temp_df</span><span class="p">[</span><span class="n">columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Importance&quot;</span>
        <span class="n">g</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Number of people&quot;</span>

<span class="n">treatmentbox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">response5</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
<span class="n">emtimebox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">response5</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">treatmentbox</span><span class="p">,</span> <span class="n">emtimebox</span><span class="p">])</span>
<span class="n">chart</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">container</span><span class="p">,</span> <span class="n">g</span><span class="p">])</span>

<span class="n">display</span><span class="p">(</span><span class="n">chart</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "ae94534182394bac950aa257d416df5c", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./docs/eda"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Pushkar Patil<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>